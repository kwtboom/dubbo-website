<!doctype html><html lang=zh class=no-js><head><meta name=ROBOTS content="INDEX, FOLLOW"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.109.0"><link rel="shortcut icon" type=image/png href=/imgs/favicon.png><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=manifest href=/manifest.webmanifest><title>条件路由规则 | Apache Dubbo</title><meta property="og:title" content="条件路由规则"><meta property="og:description" content="条件路由规则将符合特定条件的请求转发到特定的地址实例子集上。规则首先对发起流量的请求参数进行匹配，符合匹配条件的请求将被转发到包含特定实例地址列表的子集。
以下是一个条件路由规则示例。
基于以下示例规则，所有 org.apache.dubbo.samples.CommentService 服务 getComment 方法的调用都将被转发到有 region=Hangzhou 标记的地址子集。
configVersion: v3.0 scope: service force: true runtime: true enabled: true key: org.apache.dubbo.samples.CommentService conditions: - method=getComment => region=Hangzhou ConditionRule 条件路由规则主体。定义路由规则生效的目标服务或应用、流量过滤条件以及一些特定场景下的行为。
Field Type Description Required configVersion string The version of the condition rule definition, currently available version is v3.0 Yes scope string Supports service and application scope rules. Yes key string The identifier of the target service or application that this rule is about to apply to."><meta property="og:type" content="article"><meta property="og:url" content="http://static.dubbo.apache.org:8080/zh/overview/core-features/traffic/condition-rule/"><meta property="article:section" content="overview"><meta property="article:modified_time" content="2023-01-03T18:03:48+08:00"><meta property="og:site_name" content="Apache Dubbo"><meta itemprop=name content="条件路由规则"><meta itemprop=description content="条件路由规则将符合特定条件的请求转发到特定的地址实例子集上。规则首先对发起流量的请求参数进行匹配，符合匹配条件的请求将被转发到包含特定实例地址列表的子集。
以下是一个条件路由规则示例。
基于以下示例规则，所有 org.apache.dubbo.samples.CommentService 服务 getComment 方法的调用都将被转发到有 region=Hangzhou 标记的地址子集。
configVersion: v3.0 scope: service force: true runtime: true enabled: true key: org.apache.dubbo.samples.CommentService conditions: - method=getComment => region=Hangzhou ConditionRule 条件路由规则主体。定义路由规则生效的目标服务或应用、流量过滤条件以及一些特定场景下的行为。
Field Type Description Required configVersion string The version of the condition rule definition, currently available version is v3.0 Yes scope string Supports service and application scope rules. Yes key string The identifier of the target service or application that this rule is about to apply to."><meta itemprop=dateModified content="2023-01-03T18:03:48+08:00"><meta itemprop=wordCount content="285"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="条件路由规则"><meta name=twitter:description content="条件路由规则将符合特定条件的请求转发到特定的地址实例子集上。规则首先对发起流量的请求参数进行匹配，符合匹配条件的请求将被转发到包含特定实例地址列表的子集。
以下是一个条件路由规则示例。
基于以下示例规则，所有 org.apache.dubbo.samples.CommentService 服务 getComment 方法的调用都将被转发到有 region=Hangzhou 标记的地址子集。
configVersion: v3.0 scope: service force: true runtime: true enabled: true key: org.apache.dubbo.samples.CommentService conditions: - method=getComment => region=Hangzhou ConditionRule 条件路由规则主体。定义路由规则生效的目标服务或应用、流量过滤条件以及一些特定场景下的行为。
Field Type Description Required configVersion string The version of the condition rule definition, currently available version is v3.0 Yes scope string Supports service and application scope rules. Yes key string The identifier of the target service or application that this rule is about to apply to."><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-112489517-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<link rel=preload href=/scss/main.min.51bea7ff9a3fcebe875cb9e0936a72be954962b80a6c9ca0cdddf8367cfe97e1.css as=style><link href=/scss/main.min.51bea7ff9a3fcebe875cb9e0936a72be954962b80a6c9ca0cdddf8367cfe97e1.css rel=stylesheet integrity><script src=/js/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3><meta name=theme-color content="#326ce5"><link rel=stylesheet href=/css/feature-states.css><meta name=description content="条件路由规则将符合特定条件的请求转发到特定的地址实例子集上。规则首先对发起流量的请求参数进行匹配，符合匹配条件的请求将被转发到包含特定实例地址列表的子集。
以下是一个条件路由规则示例。
基于以下示例规则，所有 org.apache.dubbo.samples.CommentService 服务 getComment 方法的调用都将被转发到有 region=Hangzhou 标记的地址子集。
configVersion: v3.0 scope: service force: true runtime: true enabled: true key: org.apache.dubbo.samples.CommentService conditions: - method=getComment => region=Hangzhou ConditionRule 条件路由规则主体。定义路由规则生效的目标服务或应用、流量过滤条件以及一些特定场景下的行为。
Field Type Description Required configVersion string The version of the condition rule definition, currently available version is v3.0 Yes scope string Supports service and application scope rules. Yes key string The identifier of the target service or application that this rule is about to apply to."><meta property="og:description" content="条件路由规则将符合特定条件的请求转发到特定的地址实例子集上。规则首先对发起流量的请求参数进行匹配，符合匹配条件的请求将被转发到包含特定实例地址列表的子集。
以下是一个条件路由规则示例。
基于以下示例规则，所有 org.apache.dubbo.samples.CommentService 服务 getComment 方法的调用都将被转发到有 region=Hangzhou 标记的地址子集。
configVersion: v3.0 scope: service force: true runtime: true enabled: true key: org.apache.dubbo.samples.CommentService conditions: - method=getComment => region=Hangzhou ConditionRule 条件路由规则主体。定义路由规则生效的目标服务或应用、流量过滤条件以及一些特定场景下的行为。
Field Type Description Required configVersion string The version of the condition rule definition, currently available version is v3.0 Yes scope string Supports service and application scope rules. Yes key string The identifier of the target service or application that this rule is about to apply to."><meta name=twitter:description content="条件路由规则将符合特定条件的请求转发到特定的地址实例子集上。规则首先对发起流量的请求参数进行匹配，符合匹配条件的请求将被转发到包含特定实例地址列表的子集。
以下是一个条件路由规则示例。
基于以下示例规则，所有 org.apache.dubbo.samples.CommentService 服务 getComment 方法的调用都将被转发到有 region=Hangzhou 标记的地址子集。
configVersion: v3.0 scope: service force: true runtime: true enabled: true key: org.apache.dubbo.samples.CommentService conditions: - method=getComment => region=Hangzhou ConditionRule 条件路由规则主体。定义路由规则生效的目标服务或应用、流量过滤条件以及一些特定场景下的行为。
Field Type Description Required configVersion string The version of the condition rule definition, currently available version is v3.0 Yes scope string Supports service and application scope rules. Yes key string The identifier of the target service or application that this rule is about to apply to."><meta property="og:url" content="http://static.dubbo.apache.org:8080/zh/overview/core-features/traffic/condition-rule/"><meta property="og:title" content="条件路由规则"><meta name=twitter:title content="条件路由规则"><meta name=twitter:image:alt content="Apache Dubbo"><meta property="og:image" content="/images/kubernetes-horizontal-color.png"><meta property="og:type" content="article"><link href=/css/community.css rel=stylesheet><link href=/css/contactus.css rel=stylesheet><script src=/js/script.js></script><title>条件路由规则 | Apache Dubbo</title></head><body class="td-page td-documentation"><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary><a class=navbar-brand href=/zh/><span class=navbar-logo><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 321.39 78.54"><title id="title19">DUBBO LOGO</title><path class="cls-1" d="M68.46 50.38c0 14.06 11.39 22.11 25.45 22.11s25.45-8.05 25.45-22.11V7.25H68.46zm21.24-28h8.6V31H89.7zm0 22.25h8.6v8.6H89.7zM33.24 7.25H4.06v64H33.24c10.95.0 19.3-7.18 23.29-17.15a45.12 45.12.0 002.38-14.87A45.12 45.12.0 0056.53 24.4C52.84 14.62 44.19 7.25 33.24 7.25zm.43 14.63H30.34a3.44 3.44.0 00-3.44 3.44V53.23a3.44 3.44.0 003.44 3.44h3.33v4.63h-8.3a6.87 6.87.0 01-6.87-6.87V24.12a6.87 6.87.0 016.87-6.87h8.3zM285.51 6.06c-17.05.0-30.88 10.28-30.88 33.21s13.83 33.21 30.88 33.21 30.88-10.28 30.88-33.21S302.56 6.06 285.51 6.06zm7.59 48.36a6.87 6.87.0 01-6.87 6.87h-8.3V56.67h3.33a3.44 3.44.0 003.44-3.44V25.31a3.44 3.44.0 00-3.44-3.44h-3.33V17.25h8.3a6.87 6.87.0 016.87 6.87zm-53.4-17.56A17.39 17.39.0 00227.31 7.25H195.1v64h32.21a19.44 19.44.0 0012.38-34.44zM211.63 61.29h-6.08l18.68-44h6.08zM177 36.85A17.39 17.39.0 00164.65 7.25H132.43v64h32.21A19.44 19.44.0 00177 36.85zM149 61.29h-6.08l18.68-44h6.08z" style="fill:#fff;fill-opacity:1"/></svg></span><span class="text-uppercase font-weight-bold">Apache Dubbo</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh/overview/home/><span>文档</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh/users/><span>用户案例</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh/blog/><span>博客</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh/release/><span>版本发布</span></a></li><li class="nav-item dropdown d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/en/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><div id=docsearch></div></div></nav><section class="header-hero text-white pb-4 light-text"><h1>条件路由规则</h1></section></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-md-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><div id=docsearch></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zhoverview-li><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewhome-li><a href=/zh/overview/home/ title="Dubbo 文档" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewhome><span>主页</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhoverviewquickstart-li><a href=/zh/overview/quickstart/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewquickstart><span>入门</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewquickstartjava-li><a href=/zh/overview/quickstart/java/ title="Java 微服务开发入门" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewquickstartjava><span>Java</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewquickstartgo-li><a href=/zh/overview/quickstart/go/ title="Go 微服务开发入门" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewquickstartgo><span>Go</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewquickstartrust-li><a href=/zh/overview/quickstart/rust/ title="Rust 微服务开发入门" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewquickstartrust><span>Rust</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewquickstartnodejs-li><a href=/zh/overview/quickstart/nodejs/ title="Node.js 微服务开发入门" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewquickstartnodejs><span>Node.js</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhoverviewwhat-li><a href=/zh/overview/what/ title="Dubbo 介绍" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewwhat><span>介绍</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewwhatoverview-li><a href=/zh/overview/what/overview/ title="了解 Dubbo 核心概念和架构" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewwhatoverview><span>概念与架构</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewwhatxyz-difference-li><a href=/zh/overview/what/xyz-difference/ title="与 gRPC、Spring Cloud、Istio 的关系" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewwhatxyz-difference><span>对比 gRPC、Spring Cloud、Istio</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewwhatadvantages-li><a href=/zh/overview/what/advantages/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewwhatadvantages><span>核心优势</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewwhatadvantagesusability-li><a href=/zh/overview/what/advantages/usability/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewwhatadvantagesusability><span>易用性</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewwhatadvantagesperformance-li><a href=/zh/overview/what/advantages/performance/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewwhatadvantagesperformance><span>高性能</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewwhatadvantagestraffic-management-li><a href=/zh/overview/what/advantages/traffic-management/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewwhatadvantagestraffic-management><span>流量治理</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewwhatadvantagesobservability-li><a href=/zh/overview/what/advantages/observability/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewwhatadvantagesobservability><span>可观测性</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewwhatadvantagesextensibility-li><a href=/zh/overview/what/advantages/extensibility/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewwhatadvantagesextensibility><span>可扩展性</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zhoverviewcore-features-li><a href=/zh/overview/core-features/ title=核心特性 class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewcore-features><span>功能</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresservice-definition-li><a href=/zh/overview/core-features/service-definition/ title="Dubbo 一站式微服务开发" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresservice-definition><span>微服务开发</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresservice-discovery-li><a href=/zh/overview/core-features/service-discovery/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresservice-discovery><span>服务发现</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresload-balance-li><a href=/zh/overview/core-features/load-balance/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresload-balance><span>负载均衡</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zhoverviewcore-featurestraffic-li><a href=/zh/overview/core-features/traffic/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewcore-featurestraffic><span>流量管控</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featurestrafficcondition-rule-li><a href=/zh/overview/core-features/traffic/condition-rule/ title=条件路由规则 class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featurestrafficcondition-rule><span class=td-sidebar-nav-active-item>条件路由</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featurestraffictag-rule-li><a href=/zh/overview/core-features/traffic/tag-rule/ title=标签路由规则 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featurestraffictag-rule><span>标签路由</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featurestrafficscript-rule-li><a href=/zh/overview/core-features/traffic/script-rule/ title=脚本路由规则 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featurestrafficscript-rule><span>脚本路由</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featurestrafficconfiguration-rule-li><a href=/zh/overview/core-features/traffic/configuration-rule/ title=动态配置规则 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featurestrafficconfiguration-rule><span>动态配置</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featurestrafficmesh-rule-li><a href=/zh/overview/core-features/traffic/mesh-rule/ title="Mesh 路由规则" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featurestrafficmesh-rule><span>Mesh 路由</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresprotocols-li><a href=/zh/overview/core-features/protocols/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresprotocols><span>通信协议</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresextensibility-li><a href=/zh/overview/core-features/extensibility/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresextensibility><span>扩展适配</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresobservability-li><a href=/zh/overview/core-features/observability/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresobservability><span>观测服务</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuressecurity-li><a href=/zh/overview/core-features/security/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuressecurity><span>认证鉴权</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresservice-mesh-li><a href=/zh/overview/core-features/service-mesh/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresservice-mesh><span>服务网格</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresecosystem-li><a href=/zh/overview/core-features/ecosystem/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresecosystem><span>微服务生态</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhoverviewcore-featuresmore-li><a href=/zh/overview/core-features/more/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewcore-featuresmore><span>更多高级功能</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhoverviewtasks-li><a href=/zh/overview/tasks/ title="跟随示例任务学习 Dubbo" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtasks><span>任务</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewtasksdevelop-li><a href=/zh/overview/tasks/develop/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtasksdevelop><span>开发服务</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksdeveloptemplate-li><a href=/zh/overview/tasks/develop/template/ title=通过模板生成项目脚手架 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksdeveloptemplate><span>生成项目</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksdevelopservice_reference-li><a href=/zh/overview/tasks/develop/service_reference/ title="发布和调用 Dubbo 服务" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksdevelopservice_reference><span>发布和调用</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksdevelopasync-li><a href=/zh/overview/tasks/develop/async/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksdevelopasync><span>异步调用</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksdevelopversion_group-li><a href=/zh/overview/tasks/develop/version_group/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksdevelopversion_group><span>版本与分组</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksdevelopcontext-li><a href=/zh/overview/tasks/develop/context/ title=上下文参数传递 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksdevelopcontext><span>上下文参数</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksdevelopgeneric-li><a href=/zh/overview/tasks/develop/generic/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksdevelopgeneric><span>泛化调用</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewtasksdeploy-li><a href=/zh/overview/tasks/deploy/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtasksdeploy><span>部署服务</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksdeploydeploy-on-vm-li><a href=/zh/overview/tasks/deploy/deploy-on-vm/ title="部署 Dubbo 应用到传统虚拟机环境" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksdeploydeploy-on-vm><span>部署到虚拟机</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksdeploydeploy-on-docker-li><a href=/zh/overview/tasks/deploy/deploy-on-docker/ title="部署 Dubbo 应用到 Docker 环境" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksdeploydeploy-on-docker><span>部署到 Docker</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksdeploydeploy-on-k8s-li><a href=/zh/overview/tasks/deploy/deploy-on-k8s/ title="部署 Dubbo 应用到 Kubernetes 环境" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksdeploydeploy-on-k8s><span>部署到 Kubernetes</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewtaskstraffic-management-li><a href=/zh/overview/tasks/traffic-management/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtaskstraffic-management><span>流量管控</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementtimeout-li><a href=/zh/overview/tasks/traffic-management/timeout/ title=动态调整服务超时时间 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementtimeout><span>调整超时时间</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementretry-li><a href=/zh/overview/tasks/traffic-management/retry/ title=通过重试提高服务调用成功率 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementretry><span>服务重试</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementaccesslog-li><a href=/zh/overview/tasks/traffic-management/accesslog/ title=通过动态开启访问日志跟踪服务调用情况 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementaccesslog><span>访问日志</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementregion-li><a href=/zh/overview/tasks/traffic-management/region/ title=同机房/区域优先 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementregion><span>同区域优先</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementisolation-li><a href=/zh/overview/tasks/traffic-management/isolation/ title=通过标签实现流量隔离环境（灰度、多套开发环境等） class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementisolation><span>环境隔离</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementarguments-li><a href=/zh/overview/tasks/traffic-management/arguments/ title=根据请求参数引导流量分布 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementarguments><span>参数路由</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementweight-li><a href=/zh/overview/tasks/traffic-management/weight/ title=基于权重值的比例流量转发 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementweight><span>权重比例</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementmock-li><a href=/zh/overview/tasks/traffic-management/mock/ title=在大促之前对弱依赖调用进行服务降级 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementmock><span>服务降级</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtaskstraffic-managementhost-li><a href=/zh/overview/tasks/traffic-management/host/ title="将流量点对点引导到一台机器 (如排查问题)" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtaskstraffic-managementhost><span>固定机器导流</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewtasksecosystem-li><a href=/zh/overview/tasks/ecosystem/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtasksecosystem><span>微服务生态</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksecosystemtransaction-li><a href=/zh/overview/tasks/ecosystem/transaction/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksecosystemtransaction><span>事务管理</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksecosystemrate-limit-li><a href=/zh/overview/tasks/ecosystem/rate-limit/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksecosystemrate-limit><span>限流降级</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksecosystemconfiguration-li><a href=/zh/overview/tasks/ecosystem/configuration/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksecosystemconfiguration><span>配置管理</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewtasksprotocols-li><a href=/zh/overview/tasks/protocols/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtasksprotocols><span>通信协议</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewtasksprotocolstriple-li><a href=/zh/overview/tasks/protocols/triple/ title="Dubbo3 通信协议 -- Triple" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtasksprotocolstriple><span>Triple 协议</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksprotocolstripleidl-li><a href=/zh/overview/tasks/protocols/triple/idl/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksprotocolstripleidl><span>使用 IDL + Protobuf 跨语言定义服务</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksprotocolstriplewrap-li><a href=/zh/overview/tasks/protocols/triple/wrap/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksprotocolstriplewrap><span>Pojo 序列化兼容模式</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksprotocolstriplestreaming-li><a href=/zh/overview/tasks/protocols/triple/streaming/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksprotocolstriplestreaming><span>Streaming 通信模式</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksprotocolsdubbo2-li><a href=/zh/overview/tasks/protocols/dubbo2/ title="基于 HTTP 的通信协议" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksprotocolsdubbo2><span>HTTP 协议</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksprotocolshttp-li><a href=/zh/overview/tasks/protocols/http/ title="基于 TCP 的 RPC 通信协议" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksprotocolshttp><span>Dubbo2 协议</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksprotocolsgrpc-li><a href=/zh/overview/tasks/protocols/grpc/ title="gRPC 通信协议" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksprotocolsgrpc><span>gRPC 协议</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewtasksobservability-li><a href=/zh/overview/tasks/observability/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtasksobservability><span>观测服务</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksobservabilityadmin-li><a href=/zh/overview/tasks/observability/admin/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksobservabilityadmin><span>Admin</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksobservabilitygrafana-li><a href=/zh/overview/tasks/observability/grafana/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksobservabilitygrafana><span>Grafana</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksobservabilityprometheus-li><a href=/zh/overview/tasks/observability/prometheus/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksobservabilityprometheus><span>Prometheus</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewtasksextensibility-li><a href=/zh/overview/tasks/extensibility/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtasksextensibility><span>自定义扩展</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksextensibilityextensibility-li><a href=/zh/overview/tasks/extensibility/extensibility/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksextensibilityextensibility><span>Filter</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zhoverviewtasksmesh-li><a href=/zh/overview/tasks/mesh/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewtasksmesh><span>服务网格</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksmeshdubbo-mesh-li><a href=/zh/overview/tasks/mesh/dubbo-mesh/ title="Dubbo proxy mesh using Envoy & Istio" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksmeshdubbo-mesh><span>Sidecar 模式</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksmeshproxyless-li><a href=/zh/overview/tasks/mesh/proxyless/ title="Istio + Proxyless" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksmeshproxyless><span>Proxyless 模式</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewtasksmeshdeploy-on-k8s-li><a href=/zh/overview/tasks/mesh/deploy-on-k8s/ title="部署到 Kubernetes" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewtasksmeshdeploy-on-k8s><span>基于 API-SERVER 的原生 K8S Service</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhoverviewmannual-li><a href=/zh/overview/mannual/ title="SDK 用户手册" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhoverviewmannual><span>SDK</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewmannualjava-li><a href=/zh/docs3-v2/java-sdk/home/ title="Java SDK" target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewmannualjava><span>Java</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewmannualgolang-li><a href=/zh/docs3-v2/golang-sdk/ title="Golang SDK" target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewmannualgolang><span>Golang</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zhoverviewmannualrust-li><a href=/zh/docs3-v2/rust-sdk/ title="Rust SDK" target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhoverviewmannualrust><span>Rust</span></a></li></ul></li></ul></li></ul></nav></div></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=http://static.dubbo.apache.org:8080/zh/overview/>文档</a></li><li class=breadcrumb-item><a href=http://static.dubbo.apache.org:8080/zh/overview/core-features/>功能</a></li><li class=breadcrumb-item><a href=http://static.dubbo.apache.org:8080/zh/overview/core-features/traffic/>流量管控</a></li><li class="breadcrumb-item active" aria-current=page><a href=http://static.dubbo.apache.org:8080/zh/overview/core-features/traffic/condition-rule/>条件路由</a></li></ol></nav><div class=td-content><h1>条件路由规则</h1><header class=article-meta></header><p>条件路由规则将符合特定条件的请求转发到特定的地址实例子集上。规则首先对发起流量的请求参数进行匹配，符合匹配条件的请求将被转发到包含特定实例地址列表的子集。</p><p>以下是一个条件路由规则示例。</p><p>基于以下示例规则，所有 <code>org.apache.dubbo.samples.CommentService</code> 服务 <code>getComment</code> 方法的调用都将被转发到有 <code>region=Hangzhou</code> 标记的地址子集。</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#268bd2>configVersion</span>: v3.0
</span></span><span style=display:flex><span><span style=color:#268bd2>scope</span>: service
</span></span><span style=display:flex><span><span style=color:#268bd2>force</span>: <span style=color:#cb4b16>true</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>runtime</span>: <span style=color:#cb4b16>true</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>enabled</span>: <span style=color:#cb4b16>true</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>key</span>: org.apache.dubbo.samples.CommentService
</span></span><span style=display:flex><span><span style=color:#268bd2>conditions</span>:
</span></span><span style=display:flex><span>  - method=getComment =&gt; region=Hangzhou
</span></span></code></pre></div><h2 id=conditionrule>ConditionRule</h2><p>条件路由规则主体。定义路由规则生效的目标服务或应用、流量过滤条件以及一些特定场景下的行为。</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>configVersion</td><td>string</td><td>The version of the condition rule definition, currently available version is <code>v3.0</code></td><td>Yes</td></tr><tr><td>scope</td><td>string</td><td>Supports <code>service</code> and <code>application</code> scope rules.</td><td>Yes</td></tr><tr><td>key</td><td>string</td><td>The identifier of the target service or application that this rule is about to apply to.<br><br>- If <code>scope:service</code>is set, then <code>key</code>should be specified as the Dubbo service key that this rule targets to control.<br>- If <code>scope:application</code> is set, then <code>key</code>should be specified as the name of the application that this rule targets to control, application should always be a Dubbo Consumer.</td><td>Yes</td></tr><tr><td>enabled</td><td>bool</td><td>Whether enable this rule or not, set <code>enabled:false</code> to disable this rule.</td><td>Yes</td></tr><tr><td>conditions</td><td>string[]</td><td>The condition routing rule definition of this configuration. Check <a href=./#Condition>Condition</a> for details</td><td>Yes</td></tr><tr><td>force</td><td>bool</td><td>The behaviour when the instance subset is empty after after routing. <code>true</code> means return no provider exception while <code>false</code> means ignore this rule.</td><td>No</td></tr><tr><td>runtime</td><td>bool</td><td>Whether run routing rule for every rpc invocation or use routing cache if available.</td><td>No</td></tr></tbody></table><h2 id=condition>Condition</h2><p><code>Condition</code> 为条件路由规则的主体，类型为一个复合结构的 string 字符串，如 <code>method=getComment => region=Hangzhou</code>。其中，</p><ul><li>=> 之前的为请求参数匹配条件，指定的 <code>匹配条件指定的参数</code> 将与 <code>消费者的请求上下文 (URL)、甚至方法参数</code> 进行对比，当消费者满足匹配条件时，对该消费者执行后面的地址子集过滤规则。</li><li>=> 之后的为地址子集过滤条件，指定的 <code>过滤条件指定的参数</code> 将与 <code>提供者实例地址 (URL)</code> 进行对比，消费者最终只能拿到符合过滤条件的实例列表，从而确保流量只会发送到符合条件的地址子集。<ul><li>如果匹配条件为空，表示对所有请求生效，如：<code>=> status != staging</code></li><li>如果过滤条件为空，表示禁止来自相应请求的访问，如：<code>application = product =></code></li></ul></li></ul><h3 id=匹配过滤条件>匹配/过滤条件</h3><p><strong>参数支持</strong></p><ul><li>服务调用上下文，如：interface, method, group, version 等</li><li>请求上下文，如 attachments[key] = value</li><li>方法参数，如 arguments[0] = tom</li><li>URL 本身的字段，如：protocol, host, port 等</li><li>URL 上任务扩展参数，如：application, organization 等</li><li>支持开发者自定义扩展</li></ul><p><strong>条件支持</strong></p><ul><li>等号 = 表示 &ldquo;匹配&rdquo;，如：method = getComment</li><li>不等号 != 表示 &ldquo;不匹配&rdquo;，如：method != getComment</li></ul><p><strong>值支持</strong></p><ul><li>以逗号 , 分隔多个值，如：host != 10.20.153.10,10.20.153.11</li><li>以星号 * 结尾，表示通配，如：host != 10.20.*</li><li>以美元符 $ 开头，表示引用消费者参数，如：region = $region</li><li>整数值范围，如：userId = 1~100、userId = 101~</li><li>支持开发者自定义扩展</li></ul><div id=pre-footer><h2>反馈</h2><p class=feedback--prompt>此页是否对您有帮助？</p><button class="btn btn-primary mb-4 feedback--yes">是</button>
<button class="btn btn-primary mb-4 feedback--no">否</button><p class="feedback--response feedback--response__hidden">感谢反馈。如果您有一个关于如何使用 Kubernetes 的特定的、需要答案的问题，可以访问
<a target=_blank rel=noopener href=https://stackoverflow.com/questions/tagged/kubernetes>Stack Overflow</a>.
在 GitHub 仓库上登记新的问题
<a class=feedback--link target=_blank rel=noopener href="https://github.com/kubernetes/website/issues/new?title=Issue%20with%20k8s.io">报告问题</a>
或者
<a class=feedback--link target=_blank rel=noopener href="https://github.com/kubernetes/website/issues/new?title=Improvement%20for%20k8s.io">提出改进建议</a>.</p></div><script>const yes=document.querySelector(".feedback--yes"),no=document.querySelector(".feedback--no");document.querySelectorAll(".feedback--link").forEach(e=>{e.href=e.href+window.location.pathname});const sendFeedback=e=>{gtag||console.log("!gtag"),gtag("event","click",{event_category:"Helpful",event_label:window.location.pathname,value:e})},disableButtons=()=>{yes.disabled=!0,yes.classList.add("feedback--button__disabled"),no.disabled=!0,no.classList.add("feedback--button__disabled")};yes.addEventListener("click",()=>{sendFeedback(1),disableButtons(),document.querySelector(".feedback--response").classList.remove("feedback--response__hidden")}),no.addEventListener("click",()=>{sendFeedback(0),disableButtons(),document.querySelector(".feedback--response").classList.remove("feedback--response__hidden")})</script><br><div class="text-muted mt-5 pt-3 border-top">最后修改 January 3, 2023: <a href=https://github.com/apache/dubbo-website/commit/bf9bd56fc1da8c06ac4cda4cb4ef62acc7580184>update traffic rule references (#1801) (bf9bd56fc)</a></div></div></main><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/apache/dubbo-website/edit/main/content/zh/overview/core-features/traffic/condition-rule.md target=_blank><i class="fa fa-edit fa-fw"></i> 编辑此页</a>
<a href="https://github.com/apache/dubbo-website/new/main/content/zh/overview/core-features/traffic/condition-rule.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> 创建子页面</a>
<a href="https://github.com/apache/dubbo-website/issues/new?title=%e6%9d%a1%e4%bb%b6%e8%b7%af%e7%94%b1%e8%a7%84%e5%88%99" target=_blank><i class="fab fa-github fa-fw"></i> 登记问题</a>
<a href=https://github.com/apache/dubbo/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> 提交项目问题</a></div><nav id=TableOfContents><ul><li><a href=#conditionrule>ConditionRule</a></li><li><a href=#condition>Condition</a><ul><li><a href=#匹配过滤条件>匹配/过滤条件</a></li></ul></li></ul></nav></div></div></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Dubbo mailing list archive" aria-label="Dubbo mailing list archive"><a class=text-white target=_blank rel="noopener noreferrer" href=https://lists.apache.org/list.html?dev@dubbo.apache.org><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel="noopener noreferrer" href=https://github.com/apache/dubbo><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Subscribe to mailing list" aria-label="Subscribe to mailing list"><a class=text-white target=_blank rel="noopener noreferrer" href=mailto:dev-subscribe@dubbo.apache.org><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 The Apache Software Foundation. Apache and the Apache feather logo are trademarks of The Apache Software Foundation. All Rights Reserved</small></div></div></div></footer><div class="row pt-2 pb-2"><div class="container-fluid mx-sm-5"><div class=text-center id=my-footer><img style=float:left src=/imgs/apache_logo.png><ul><li><a href=https://www.apache.org>Foundation</a></li><li><a href=https://www.apache.org/licenses/>License</a></li><li><a href=https://www.apache.org/security/>Security</a></li><li><a href=https://www.apache.org/events/current-event>Events</a></li><li><a href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a></li><li><a href=https://privacy.apache.org/policies/privacy-policy-public.html>Privacy</a></li><li><a href=https://www.apache.org/foundation/thanks.html>Thanks</a></li></ul></div></div></div><script src=/js/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script>
<script src=/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script>
<script src=/js/main.min.1f49dca1354b63169a1b3c3c43ac2606d02cc2eb2b1fc715e9cacba4f2c71348.js integrity="sha256-H0ncoTVLYxaaGzw8Q6wmBtAswusrH8cV6crLpPLHE0g=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script>docsearch({appId:"L5F4T9F0I1",apiKey:"364ae307e1da9d02b2335675e9db1eb1",indexName:"apache_dubbo",container:"#docsearch",debug:!1}),docsearch({appId:"L5F4T9F0I1",apiKey:"364ae307e1da9d02b2335675e9db1eb1",indexName:"apache_dubbo",container:"#docsearch_zh_home",debug:!1})</script></body></html>